<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face Recognition Login</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style/styles.css') }}">
</head>
<body>
    <div class="main-container">
        <!-- Sectiunea de autentificare biometrica -->
        <div class="ring">
            <i style="--clr:#00ff0a;"></i>
            <i style="--clr:#ff0057;"></i>
            <i style="--clr:#fffd44;"></i>
            <div class="login">
                <h2>REGISTER ACCOUNT</h2>
                <form id="registerForm" enctype="multipart/form-data">
                    <div class="inputBx">
                        <label for="nameInput">Your Name</label>
                        <input type="text" name="name" id="nameInput" placeholder="Enter your name" required>
                    </div>
                    <div class="inputBx">
                        <label for="emailInput">Email</label>
                        <input type="email" name="email" id="emailInput" placeholder="Enter your email" required>
                    </div>
                    <div class="inputBx">
                        <label for="passwordInput">Password</label>
                        <input type="password" name="password" id="passwordInput" placeholder="Enter your password" required>
                    </div>
                    <div class="inputBx">
                        <button class="primary-button" type="button" onclick="register()">REGISTER</button>
                    </div>
                </form>
                <div id="registerMessage"></div>
                <!-- Grupul de butoane LOGIN -->
                <div class="button-group">
                    <button class="secondary-button" onclick="login()">LOGIN WITH FACE</button>
                    <button class="secondary-button" onclick="showLoginForm()">LOGIN WITH CREDENTIALS</button>
                </div>
            </div>
        </div>

        <!-- Secțiunea pentru capturarea feței -->
        <div class="video-section">
            <h2>Face Recognition</h2>
            <p>Log in securely using your face</p>
            <div class="video-container">
                <video id="video" autoplay></video>
                <canvas id="canvas" style="display: none;"></canvas>
            </div>
            <button class="primary-button" onclick="capture()">CAPTURE PHOTO</button>
        </div>
    </div>

    <!-- Formular pentru autentificare cu username și parolă -->
<div id="loginForm" style="display: none;">
    <h3>LOGIN WITH USERNAME AND PASSWORD</h3>
    <div class="inputBx">
        <label for="usernameInput">Username</label>
        <input type="text" id="usernameInput" placeholder="Enter your username" required>
    </div>
    <div class="inputBx">
        <label for="loginPasswordInput">Password</label>
        <input type="password" id="loginPasswordInput" placeholder="Enter your password" required>
    </div>
    <!-- Câmp pentru OTP, ascuns inițial -->
    <div class="inputBx" id="otpSection" style="display: none;">
        <label for="otpInput">OTP</label>
        <input type="text" id="otpInput" placeholder="Enter the OTP sent to your email">
    </div>
    <div class="inputBx">
        <button class="primary-button" onclick="loginWithCredentials()">LOGIN</button>
        <button class="secondary-button" onclick="hideLoginForm()">CANCEL</button>
    </div>
</div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>